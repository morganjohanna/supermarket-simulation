# Supermarket Simulation
*A Markov chain Monte Carlo simulation of customer behavior in a supermarket*

The objective of this project was to generate a simulation of customer movement behavior in a mock supermarket.

## Modules
This repository contains:

├── data
│   ├── friday.csv
│   ├── monday.csv
│   ├── thursday.csv
│   ├── tuesday.csv
│   └── wednesday.csv
├── eda.ipynb
├── LICENSE
├── output
│   ├── df.csv
│   ├── simulation_202306131704.csv
│   ├── simulation_202306131719.csv
│   ├── simulation_202306131723.csv
│   ├── simulation_202306131727.csv
│   └── transition_matrix.csv
├── README.md
├── simulator.py
└── transition_matrix.ipynb

Of note are the following:
- **eda.ipynb** is the initial cleaning and exploratory data analysis of the data present in the **data** directory
- **transition_matrix.ipynb** is where the transition matrix was generated (the probability that a customer currently in a given department/area of the store would move to the others)
- **simulator.py** is the simulation file; provided you've downloaded **output/transition_matrix**, it will run without requiring any other files
- The files in the **output** directory are automatically generated by the different Jupyter and Python files

## Process
Data were loaded and explored for completeness and visualizations created for a mock report to non-data stakeholders. Minor cleaning was required (e.g. removing customers that didn't go to checkout and resampling the data so each row represented a single minute) and previous location calculated so that a simple 5 x 5 transition matrix could be calculated for the grouped data. These activities were done in Jupyter notebooks as they include multiple charts.

The Markov chain Monte Carlo simulation itself consists of a Customer class, representing a single customer's activities based on the transition matrix, and a Supermarket class, which manages the activities of multiple customers simultaneously. It is fairly simplistic for now, without any validation tests for robustness of the data and requiring a similar cleaning process as that found in the initial EDA before it can be effectively utilized. Initiating a Supermarket instance and calling a single function allows the simulation to run automatically, including generation of a .csv with simulation data.

## Next
When I initially worked on this project, it was the most challenging one I had yet encountered and I struggled to understand classes. I couldn't finish the simulation originally (it was a project during my SPICED Academy Data Science bootcamp) but figured it out after the course had ended. As with all projects, there is a lot that can still be done that I'd love to get in to, now that I have it working at a basic level:
- Designing a function to automate EDA, not only for the original data but for simulation data as well, as part of a mock report
- New customers should be added more realistically per hour of the day to account for peak times, not simply 1 more per minute; this would require that the simulated data be automatically validated against customer entry patterns from the data provided
- Originally I had set some objectives for the project that I wasn't able to realize that would be a nice challenge, specifically:
    - With a given number of checkouts and restockers, and restocking required after n customer minutes in a department, how many person hours are required and where?
    - Should employees be cross-trained to work checkout and restock?
    - With a given initial and ongoing cost of automatic checkout machines, would they be a worthwhile investment?